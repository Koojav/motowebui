<div class="box box-primary">
  <div class="box-body">
    <table id="dt-subdirectories" class="table table-hover" style="display: none">
      <thead>
      <tr>
        <th>Subdirectory</th>
        <th>Assignee</th>
      </tr>
      </thead>
      <tbody>
      <% subdirectories.each do |subdir| %>
        <tr>
          <td class="col-xs-10">
            <%= link_to subdir.name, directory_path(subdir.id) %>
          </td>

          <td class="col-xs-2" >
            <%= render partial: 'dropdown_select_tester', locals: { directory_id: subdir.id, selected_tester_name: subdir.tester.name} %>
          </td>

        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>

<script>
  // Initialize datatable
  $(document).ready(function ()
  {
    $('#dt-subdirectories').on( 'draw.dt', function ()
    {
      var table = $('#dt-subdirectories').DataTable({
      dom:
      "<'row'<'col-sm-6'lB><'col-sm-6'f>>" +
      "<'row'<'col-sm-12'tr>>" +
      "<'row'<'col-sm-12'p>>",
      select: {
          style:    'os',
          // ignoring certain cells with controls since they interfered with selection etc.
          selector: 'td:nth-of-type(1)'
      },
      paging: <%= subdirectories.length > 25 %>,
      pageLength: 25,
      lengthMenu: [10, 25, 50, 100]
      });
    });

      $('#dt-subdirectories').show();
  });
</script>