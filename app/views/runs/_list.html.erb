<div class="box box-default">
  <div class="box-body">
    <table id="runsDataTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
      <thead>
      <tr>
        <th>Name</th>
        <th>Start time</th>
        <th>Duration</th>
        <th>Assignee</th>
        <th>Result</th>
      </tr>
      </thead>
      <tbody>
      <% @runs.each do |run| %>
          <tr>
            <td><%= link_to run.name, suite_run_path(run.suite.id, run.id) %></td>
            <td><%= run.start_time.to_s(:db) %></td>
            <td><%= run.display_duration %></td>
            <td><%= run.tester_name %></td>
            <% result = Result.find(run.result_id) %>
            <td><button type="button" class="btn btn-block <%= result.display_style_btn %> btn-xs"><%= result.name %></button></td>
          </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>

<script>

  $(document).ready(function() {
    $('#runsDataTable').DataTable(
        {
          paging: <%= @runs.length > 25 ? 'true' : 'false' %>,
          pageLength: 25,
          info: false,
          lengthMenu: [ 25, 50, 100, 200 ]
        }
    );
  } );

</script>
